<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: abstract/logger-abstract.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: abstract/logger-abstract.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict';

class AbstractLogger {
  constructor(notifier) {
    this.notifier = notifier;
    this.LOG_SEVERITY_EMERGENCY = 0;
    this.LOG_SEVERITY_ALERT = 1;
    this.LOG_SEVERITY_CRITICAL = 2;
    this.LOG_SEVERITY_ERROR = 3;
    this.LOG_SEVERITY_WARNING = 4;
    this.LOG_SEVERITY_NOTICE = 5;
    this.LOG_SEVERITY_INFO = 6;
    this.LOG_SEVERITY_DEBUG = 7;
  }

  /**
   * @param string message
   * @param mixed data
   * @param int severity , standard RFC3164 code (https://tools.ietf.org/html/rfc3164)
   * @param string channel
   */
  log(message, data = null, severity = 7, channel = "") {
    let log =
    {
      'time': Date.now(),
      'severity': severity,
      'channel': channel,
      'message': message,
      'data': data
    }
    this.notifier.notify(log)
  }

  capture(device, severity = 7, channel = "") {
    return new Promise((resolve, reject) => {
      device.takeScreenshot((error, capture) => {
        if (error) {
          this.error('error', { error });
          reject({ error });
        }
        else {
          this.debug('capture', { capture });
          resolve({ capture });
        }
      })
    })
  }

  /**
   * @param $message
   * @param null $data
   * @param string $channel
   */
  debug(message, data = null, channel = "") {
    this.log(message, data, this.LOG_SEVERITY_DEBUG, channel);
  }

  /**
   * @param $message
   * @param null $data
   * @param string $channel
   */
  warning(message, data = null, channel = "") {
    this.log(message, data, this.LOG_SEVERITY_WARNING, channel);
  }

  /**
   * @param $message
   * @param null $data
   * @param string $channel
   */
  alert(message, data = null, channel = "") {
    this.log(message, data, this.LOG_SEVERITY_ALERT, channel);
  }

  /**
   * @param $message
   * @param null $data
   * @param string $channel
   */
  emergency(message, data = null, channel = "") {
    this.log(message, data, this.LOG_SEVERITY_EMERGENCY, channel);
  }

  /**
   * @param $message
   * @param null $data
   * @param string $channel
   */
  critical(message, data = null, channel = "") {
    this.log(message, data, this.LOG_SEVERITY_CRITICAL, channel);
  }

  /**
   * @param $message
   * @param null $data
   * @param string $channel
   */
  error(message, data = null, channel = "") {
    this.log(message, data, this.LOG_SEVERITY_ERROR, channel);
  }

  /**
   * @param $message
   * @param null $data
   * @param string $channel
   */
  info(message, data = null, channel = "") {
    this.log(message, data, this.LOG_SEVERITY_INFO, channel);
  }
}

module.exports = AbstractLogger;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#capture">capture</a></li><li><a href="global.html#getName">getName</a></li><li><a href="global.html#getVersion">getVersion</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Fri Oct 12 2018 23:45:04 GMT+0200 (Hora de verano romance)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
